<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashley AI - Finance Operations Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .slide-in { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="bg-blue-600 text-white p-2 rounded-lg mr-3">
                        <i data-lucide="dollar-sign" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Ashley AI</h1>
                        <p class="text-sm text-gray-600">Finance Operations Demo</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="bg-green-100 px-3 py-1 rounded-full">
                        <span class="text-green-800 text-sm font-medium">ðŸŸ¢ System Online</span>
                    </div>
                    <button id="refreshData" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i data-lucide="refresh-cw" class="w-4 h-4 inline mr-2"></i>
                        Refresh Data
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Overview Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow p-6 fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600">Total Revenue</p>
                        <p class="text-2xl font-bold text-gray-900" id="totalRevenue">â‚±2,450,000</p>
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <i data-lucide="dollar-sign" class="w-6 h-6 text-green-600"></i>
                    </div>
                </div>
                <div class="flex items-center mt-2">
                    <i data-lucide="trending-up" class="w-4 h-4 text-green-600 mr-1"></i>
                    <span class="text-sm text-green-600">+12.5% from last month</span>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow p-6 fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600">Outstanding</p>
                        <p class="text-2xl font-bold text-gray-900" id="outstanding">â‚±185,000</p>
                    </div>
                    <div class="bg-orange-100 p-3 rounded-full">
                        <i data-lucide="file-text" class="w-6 h-6 text-orange-600"></i>
                    </div>
                </div>
                <div class="flex items-center mt-2">
                    <i data-lucide="alert-triangle" class="w-4 h-4 text-orange-600 mr-1"></i>
                    <span class="text-sm text-orange-600" id="overdueCount">3 overdue</span>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow p-6 fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600">Total Expenses</p>
                        <p class="text-2xl font-bold text-gray-900" id="totalExpenses">â‚±1,680,000</p>
                    </div>
                    <div class="bg-red-100 p-3 rounded-full">
                        <i data-lucide="receipt" class="w-6 h-6 text-red-600"></i>
                    </div>
                </div>
                <div class="flex items-center mt-2">
                    <i data-lucide="trending-down" class="w-4 h-4 text-red-600 mr-1"></i>
                    <span class="text-sm text-red-600">-3.2% from last month</span>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow p-6 fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600">Gross Margin</p>
                        <p class="text-2xl font-bold text-gray-900" id="grossMargin">31.4%</p>
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <i data-lucide="calculator" class="w-6 h-6 text-blue-600"></i>
                    </div>
                </div>
                <div class="flex items-center mt-2">
                    <i data-lucide="trending-up" class="w-4 h-4 text-blue-600 mr-1"></i>
                    <span class="text-sm text-blue-600">Healthy margin</span>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="bg-white rounded-lg shadow">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex">
                    <button class="tab-btn active border-b-2 border-blue-500 text-blue-600 py-4 px-6 font-medium" data-tab="invoices">
                        Invoices
                    </button>
                    <button class="tab-btn text-gray-500 hover:text-gray-700 py-4 px-6 font-medium" data-tab="payments">
                        Payments
                    </button>
                    <button class="tab-btn text-gray-500 hover:text-gray-700 py-4 px-6 font-medium" data-tab="expenses">
                        Expenses
                    </button>
                    <button class="tab-btn text-gray-500 hover:text-gray-700 py-4 px-6 font-medium" data-tab="reports">
                        Reports
                    </button>
                </nav>
            </div>

            <!-- Invoices Tab -->
            <div id="invoices-tab" class="tab-content p-6">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900">Recent Invoices</h2>
                        <p class="text-gray-600">Manage customer invoices and track payments</p>
                    </div>
                    <button id="createInvoice" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i data-lucide="plus" class="w-4 h-4 inline mr-2"></i>
                        Create Invoice
                    </button>
                </div>

                <div id="invoicesList" class="space-y-4">
                    <!-- Invoices will be loaded here -->
                </div>
            </div>

            <!-- Payments Tab -->
            <div id="payments-tab" class="tab-content p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900">Recent Payments</h2>
                        <p class="text-gray-600">Track incoming payments and cash flow</p>
                    </div>
                    <button id="recordPayment" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i data-lucide="credit-card" class="w-4 h-4 inline mr-2"></i>
                        Record Payment
                    </button>
                </div>

                <div id="paymentsList" class="space-y-4">
                    <!-- Payments will be loaded here -->
                </div>
            </div>

            <!-- Expenses Tab -->
            <div id="expenses-tab" class="tab-content p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900">Company Expenses</h2>
                        <p class="text-gray-600">Track and approve company expenses</p>
                    </div>
                    <button id="addExpense" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i data-lucide="receipt" class="w-4 h-4 inline mr-2"></i>
                        Add Expense
                    </button>
                </div>

                <div id="expensesList" class="space-y-4">
                    <!-- Expenses will be loaded here -->
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports-tab" class="tab-content p-6 hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Financial Reports</h2>
                        <div class="space-y-3">
                            <button class="w-full text-left p-4 border rounded-lg hover:bg-gray-50 transition-colors">
                                <div class="flex items-center">
                                    <i data-lucide="file-text" class="w-5 h-5 text-blue-600 mr-3"></i>
                                    <div>
                                        <p class="font-medium">Profit & Loss Statement</p>
                                        <p class="text-sm text-gray-600">Revenue vs expenses breakdown</p>
                                    </div>
                                </div>
                            </button>
                            <button class="w-full text-left p-4 border rounded-lg hover:bg-gray-50 transition-colors">
                                <div class="flex items-center">
                                    <i data-lucide="trending-up" class="w-5 h-5 text-green-600 mr-3"></i>
                                    <div>
                                        <p class="font-medium">Cash Flow Statement</p>
                                        <p class="text-sm text-gray-600">Money in vs money out</p>
                                    </div>
                                </div>
                            </button>
                            <button class="w-full text-left p-4 border rounded-lg hover:bg-gray-50 transition-colors">
                                <div class="flex items-center">
                                    <i data-lucide="clock" class="w-5 h-5 text-orange-600 mr-3"></i>
                                    <div>
                                        <p class="font-medium">Accounts Receivable Aging</p>
                                        <p class="text-sm text-gray-600">Outstanding invoice aging report</p>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Top Clients by Revenue</h2>
                        <div id="topClientsList" class="space-y-3">
                            <!-- Top clients will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="successToast" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform">
        <div class="flex items-center">
            <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
            <span id="toastMessage">Action completed successfully!</span>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <div class="flex items-center">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-4"></div>
                <span class="text-gray-700">Loading finance data...</span>
            </div>
        </div>
    </div>

    <script>
        // Sample data
        const sampleData = {
            invoices: [
                {
                    id: '1',
                    invoice_number: 'INV-000001',
                    client: { name: 'Nike Philippines' },
                    order: { order_number: 'ORD-2025-001' },
                    total_amount: 125000,
                    balance: 125000,
                    status: 'overdue',
                    created_at: '2024-12-01',
                    due_date: '2024-12-31',
                    days_overdue: 15
                },
                {
                    id: '2',
                    invoice_number: 'INV-000002',
                    client: { name: 'Adidas Corp' },
                    order: { order_number: 'ORD-2025-002' },
                    total_amount: 89500,
                    balance: 45000,
                    status: 'pending',
                    created_at: '2025-01-05',
                    due_date: '2025-02-05',
                    days_overdue: 0
                },
                {
                    id: '3',
                    invoice_number: 'INV-000003',
                    client: { name: 'Under Armour' },
                    order: { order_number: 'ORD-2025-003' },
                    total_amount: 156000,
                    balance: 156000,
                    status: 'sent',
                    created_at: '2025-01-10',
                    due_date: '2025-02-10',
                    days_overdue: 0
                }
            ],
            payments: [
                {
                    id: '1',
                    payment_number: 'PMT-000001',
                    amount: 44500,
                    payment_method: 'BANK_TRANSFER',
                    payment_date: '2025-01-15',
                    status: 'completed',
                    invoice: {
                        client: { name: 'Adidas Corp' },
                        invoice_number: 'INV-000002'
                    }
                },
                {
                    id: '2',
                    payment_number: 'PMT-000002',
                    amount: 78000,
                    payment_method: 'CHECK',
                    payment_date: '2025-01-14',
                    status: 'completed',
                    invoice: {
                        client: { name: 'Puma Sports' },
                        invoice_number: 'INV-000004'
                    }
                }
            ],
            expenses: [
                {
                    id: '1',
                    expense_number: 'EXP-000001',
                    description: 'Fabric purchase - Cotton blend',
                    category: 'MATERIALS',
                    supplier: 'Textile Corp Ltd',
                    amount: 45000,
                    expense_date: '2025-01-12',
                    approved: true
                },
                {
                    id: '2',
                    expense_number: 'EXP-000002',
                    description: 'Equipment maintenance',
                    category: 'MAINTENANCE',
                    supplier: 'Tech Solutions Inc',
                    amount: 28500,
                    expense_date: '2025-01-11',
                    approved: false
                }
            ],
            topClients: [
                { client_name: 'Nike Philippines', revenue: 450000 },
                { client_name: 'Adidas Corp', revenue: 380000 },
                { client_name: 'Under Armour', revenue: 280000 },
                { client_name: 'Puma Sports', revenue: 220000 },
                { client_name: 'Reebok Asia', revenue: 180000 }
            ]
        };

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-PH', {
                style: 'currency',
                currency: 'PHP'
            }).format(amount);
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-PH');
        }

        function getStatusBadge(status) {
            const statusClasses = {
                'paid': 'bg-green-100 text-green-800',
                'pending': 'bg-yellow-100 text-yellow-800',
                'overdue': 'bg-red-100 text-red-800',
                'draft': 'bg-gray-100 text-gray-800',
                'sent': 'bg-blue-100 text-blue-800',
                'completed': 'bg-green-100 text-green-800'
            };
            const className = statusClasses[status] || 'bg-gray-100 text-gray-800';
            return `<span class="px-2 py-1 text-xs font-medium rounded-full ${className}">${status.charAt(0).toUpperCase() + status.slice(1)}</span>`;
        }

        function showToast(message) {
            const toast = document.getElementById('successToast');
            const messageEl = document.getElementById('toastMessage');
            messageEl.textContent = message;
            toast.classList.remove('translate-x-full');
            setTimeout(() => {
                toast.classList.add('translate-x-full');
            }, 3000);
        }

        function showLoading() {
            document.getElementById('loadingOverlay').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        // Load data functions
        function loadInvoices() {
            const container = document.getElementById('invoicesList');
            container.innerHTML = '';

            sampleData.invoices.forEach(invoice => {
                const div = document.createElement('div');
                div.className = 'border rounded-lg p-4 hover:bg-gray-50 transition-colors slide-in';
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="font-semibold">${invoice.invoice_number}</h3>
                                ${getStatusBadge(invoice.status)}
                                ${invoice.days_overdue > 0 ? `<span class="px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800">${invoice.days_overdue} days overdue</span>` : ''}
                            </div>
                            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-600">Client:</span><br>
                                    <span class="font-medium">${invoice.client.name}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">Order:</span><br>
                                    <span class="font-medium">${invoice.order.order_number}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">Amount:</span><br>
                                    <span class="font-medium">${formatCurrency(invoice.total_amount)}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">Balance:</span><br>
                                    <span class="font-medium text-red-600">${formatCurrency(invoice.balance)}</span>
                                </div>
                            </div>
                            <div class="flex gap-4 mt-2 text-xs text-gray-500">
                                <span>Issued: ${formatDate(invoice.created_at)}</span>
                                <span>Due: ${formatDate(invoice.due_date)}</span>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                <i data-lucide="eye" class="w-4 h-4 inline mr-1"></i>View
                            </button>
                            <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                <i data-lucide="credit-card" class="w-4 h-4 inline mr-1"></i>Payment
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
            lucide.createIcons();
        }

        function loadPayments() {
            const container = document.getElementById('paymentsList');
            container.innerHTML = '';

            sampleData.payments.forEach(payment => {
                const div = document.createElement('div');
                div.className = 'border rounded-lg p-4 hover:bg-gray-50 transition-colors slide-in';
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex items-center space-x-4">
                            <div class="bg-green-100 p-3 rounded-full">
                                <i data-lucide="credit-card" class="w-6 h-6 text-green-600"></i>
                            </div>
                            <div>
                                <p class="font-semibold">${payment.payment_number}</p>
                                <p class="text-sm text-gray-600">${payment.invoice.client.name} â€¢ ${payment.payment_method}</p>
                                <p class="text-xs text-gray-500">Invoice: ${payment.invoice.invoice_number}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="text-right">
                                <p class="font-semibold text-green-600">${formatCurrency(payment.amount)}</p>
                                <p class="text-sm text-gray-600">${formatDate(payment.payment_date)}</p>
                            </div>
                            ${getStatusBadge(payment.status)}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
            lucide.createIcons();
        }

        function loadExpenses() {
            const container = document.getElementById('expensesList');
            container.innerHTML = '';

            sampleData.expenses.forEach(expense => {
                const div = document.createElement('div');
                div.className = 'border rounded-lg p-4 hover:bg-gray-50 transition-colors slide-in';
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex items-center space-x-4">
                            <div class="bg-red-100 p-3 rounded-full">
                                <i data-lucide="receipt" class="w-6 h-6 text-red-600"></i>
                            </div>
                            <div>
                                <p class="font-semibold">${expense.description}</p>
                                <p class="text-sm text-gray-600">${expense.category} â€¢ ${expense.supplier}</p>
                                <p class="text-xs text-gray-500">${expense.expense_number}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="text-right">
                                <p class="font-semibold text-red-600">${formatCurrency(expense.amount)}</p>
                                <p class="text-sm text-gray-600">${formatDate(expense.expense_date)}</p>
                            </div>
                            ${getStatusBadge(expense.approved ? 'completed' : 'pending')}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
            lucide.createIcons();
        }

        function loadTopClients() {
            const container = document.getElementById('topClientsList');
            container.innerHTML = '';

            sampleData.topClients.forEach((client, index) => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between p-3 border rounded-lg';
                div.innerHTML = `
                    <div class="flex items-center">
                        <span class="bg-blue-100 text-blue-800 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3">${index + 1}</span>
                        <span class="font-medium">${client.client_name}</span>
                    </div>
                    <span class="font-semibold text-green-600">${formatCurrency(client.revenue)}</span>
                `;
                container.appendChild(div);
            });
        }

        // Tab functionality
        function initTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetTab = btn.dataset.tab;

                    // Remove active class from all tabs
                    tabBtns.forEach(b => {
                        b.classList.remove('active', 'border-blue-500', 'text-blue-600');
                        b.classList.add('text-gray-500');
                    });

                    // Hide all tab contents
                    tabContents.forEach(content => content.classList.add('hidden'));

                    // Activate clicked tab
                    btn.classList.add('active', 'border-blue-500', 'text-blue-600');
                    btn.classList.remove('text-gray-500');

                    // Show target content
                    document.getElementById(`${targetTab}-tab`).classList.remove('hidden');

                    // Load data for the active tab
                    if (targetTab === 'invoices') loadInvoices();
                    else if (targetTab === 'payments') loadPayments();
                    else if (targetTab === 'expenses') loadExpenses();
                    else if (targetTab === 'reports') loadTopClients();
                });
            });
        }

        // Event listeners
        document.getElementById('refreshData').addEventListener('click', () => {
            showLoading();
            setTimeout(() => {
                hideLoading();
                loadInvoices();
                showToast('Finance data refreshed successfully!');
            }, 1500);
        });

        document.getElementById('createInvoice').addEventListener('click', () => {
            showToast('Create Invoice feature - would open invoice creation form');
        });

        document.getElementById('recordPayment').addEventListener('click', () => {
            showToast('Record Payment feature - would open payment entry form');
        });

        document.getElementById('addExpense').addEventListener('click', () => {
            showToast('Add Expense feature - would open expense entry form');
        });

        // Initialize the demo
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            initTabs();
            loadInvoices();

            // Simulate live updates
            setInterval(() => {
                const revenue = document.getElementById('totalRevenue');
                const currentValue = parseInt(revenue.textContent.replace(/[â‚±,]/g, ''));
                const newValue = currentValue + Math.floor(Math.random() * 10000);
                revenue.textContent = formatCurrency(newValue);
                revenue.classList.add('pulse');
                setTimeout(() => revenue.classList.remove('pulse'), 1000);
            }, 10000);
        });
    </script>
</body>
</html>