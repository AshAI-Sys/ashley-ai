# ====================================
# ASHLEY AI - PRODUCTION ENVIRONMENT
# Compatible with: Vercel, Railway, AWS, Google Cloud
# ====================================
# IMPORTANT: This is a template. DO NOT commit actual secrets to Git.
# Configure these values in your deployment platform's environment variables dashboard.

# ===== DATABASE (REQUIRED) =====
# PostgreSQL Connection String
# Vercel: Use Vercel Postgres or Neon
# Railway: Use Railway PostgreSQL service or external provider
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATABASE_URL="${DATABASE_URL}"

# Direct connection for migrations (bypass connection pooling)
# Only needed if using connection pooler (PgBouncer, Neon, etc.)
DIRECT_URL="${DIRECT_URL}"

# ===== SECURITY (REQUIRED) =====
# Generate using: openssl rand -base64 32
NEXTAUTH_SECRET="${NEXTAUTH_SECRET}"
JWT_SECRET="${JWT_SECRET}"

# 32-byte encryption key for 2FA secrets and sensitive data (AES-256)
# Generate using: openssl rand -hex 32
ENCRYPTION_KEY="${ENCRYPTION_KEY}"

# ===== APPLICATION (REQUIRED) =====
NODE_ENV="production"

# Your production domain (CRITICAL for email verification links)
# Vercel: https://your-app.vercel.app or https://yourdomain.com
# Railway: https://your-app.up.railway.app or https://yourdomain.com
NEXT_PUBLIC_APP_URL="${VERCEL_URL:-${RAILWAY_PUBLIC_DOMAIN}}"
NEXTAUTH_URL="${VERCEL_URL:-${RAILWAY_PUBLIC_DOMAIN}}"

# App Metadata
APP_NAME="Ashley AI Manufacturing ERP"
APP_VERSION="1.0.0"

# ===== EMAIL VERIFICATION (REQUIRED) =====
# Get API key from: https://resend.com
# CRITICAL: Email verification won't work without this
RESEND_API_KEY="${RESEND_API_KEY}"
EMAIL_FROM="Ashley AI <noreply@yourdomain.com>"

# ===== FEATURES =====
ENABLE_2FA="true"
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_SMS_NOTIFICATIONS="false"

# ===== REDIS CACHING (RECOMMENDED) =====
# Upstash Redis (Serverless, works great with Vercel)
# Get free account at: https://upstash.com
# Format: rediss://default:PASSWORD@HOST:PORT
REDIS_URL="${REDIS_URL}"

# ===== ERROR TRACKING (OPTIONAL) =====
# Sentry.io for production error monitoring
# Get DSN from: https://sentry.io/settings/projects/
SENTRY_DSN="${SENTRY_DSN}"
NEXT_PUBLIC_SENTRY_DSN="${SENTRY_DSN}"
SENTRY_ORG="ashley-ai"
SENTRY_PROJECT="ashley-ai-admin"
SENTRY_AUTH_TOKEN="${SENTRY_AUTH_TOKEN}"

# ===== FILE STORAGE (REQUIRED for logo uploads) =====
# Cloudinary for image/file hosting
# Get credentials from: https://cloudinary.com
CLOUDINARY_CLOUD_NAME="${CLOUDINARY_CLOUD_NAME}"
CLOUDINARY_API_KEY="${CLOUDINARY_API_KEY}"
CLOUDINARY_API_SECRET="${CLOUDINARY_API_SECRET}"

# ===== AI CHAT ASSISTANT (OPTIONAL) =====
# Choose one provider (or both for fallback)
# OpenAI: https://platform.openai.com/api-keys
# Anthropic: https://console.anthropic.com/settings/keys
ASH_OPENAI_API_KEY="${ASH_OPENAI_API_KEY}"
ASH_ANTHROPIC_API_KEY="${ASH_ANTHROPIC_API_KEY}"

# ===== SMS NOTIFICATIONS (OPTIONAL) =====
# Twilio (Global SMS) - https://www.twilio.com
TWILIO_ACCOUNT_SID="${TWILIO_ACCOUNT_SID}"
TWILIO_AUTH_TOKEN="${TWILIO_AUTH_TOKEN}"
TWILIO_PHONE_NUMBER="${TWILIO_PHONE_NUMBER}"

# Semaphore (Philippine SMS) - https://semaphore.co
SEMAPHORE_API_KEY="${SEMAPHORE_API_KEY}"
SEMAPHORE_SENDER_NAME="ASHLEY AI"

# ===== 3PL DELIVERY PROVIDERS (OPTIONAL) =====
# Lalamove - https://www.lalamove.com/api
LALAMOVE_API_KEY="${LALAMOVE_API_KEY}"
LALAMOVE_API_SECRET="${LALAMOVE_API_SECRET}"

# J&T Express - https://www.jtexpress.ph
JNT_API_KEY="${JNT_API_KEY}"
JNT_API_SECRET="${JNT_API_SECRET}"
JNT_CUSTOMER_CODE="${JNT_CUSTOMER_CODE}"

# ===== VERCEL-SPECIFIC (Auto-populated by Vercel) =====
# These are automatically set by Vercel, don't manually configure
# VERCEL="1"
# VERCEL_ENV="production"
# VERCEL_URL="your-app.vercel.app"
# VERCEL_GIT_COMMIT_SHA="${VERCEL_GIT_COMMIT_SHA}"
# VERCEL_GIT_COMMIT_REF="${VERCEL_GIT_COMMIT_REF}"

# ===== RAILWAY-SPECIFIC (Auto-populated by Railway) =====
# These are automatically set by Railway, don't manually configure
# RAILWAY_ENVIRONMENT="production"
# RAILWAY_PUBLIC_DOMAIN="your-app.up.railway.app"
# RAILWAY_GIT_COMMIT_SHA="${RAILWAY_GIT_COMMIT_SHA}"
# RAILWAY_GIT_BRANCH="${RAILWAY_GIT_BRANCH}"

# ===== AUTOMATED BACKUPS (Disable in serverless) =====
# Not recommended for Vercel (serverless, no persistent filesystem)
# Can enable for Railway if using persistent volumes
BACKUP_ENABLED="false"
BACKUP_SCHEDULE="daily"
BACKUP_DIR="/data/backups"
BACKUP_MAX_BACKUPS="30"

# ====================================
# CONFIGURATION NOTES
# ====================================
#
# VERCEL DEPLOYMENT:
# 1. Go to: https://vercel.com/dashboard → Your Project → Settings → Environment Variables
# 2. Add each variable above with actual values
# 3. Ensure NEXT_PUBLIC_APP_URL uses your Vercel domain or custom domain
# 4. Use Vercel Postgres (built-in) or external PostgreSQL (Neon, Supabase)
# 5. Use Upstash Redis for caching (serverless-compatible)
#
# RAILWAY DEPLOYMENT:
# 1. Go to: https://railway.app → Your Project → Variables
# 2. Add each variable above with actual values
# 3. Railway auto-provides: RAILWAY_PUBLIC_DOMAIN (use for NEXT_PUBLIC_APP_URL)
# 4. Use Railway PostgreSQL (built-in) or external provider
# 5. Railway supports persistent volumes for backups
#
# REQUIRED SERVICES:
# - Database: PostgreSQL (Vercel Postgres, Neon, Supabase, Railway Postgres)
# - Email: Resend (for email verification) - https://resend.com
# - Redis: Upstash (for rate limiting, caching) - https://upstash.com
# - Storage: Cloudinary (for file uploads) - https://cloudinary.com
#
# CRITICAL FOR EMAIL VERIFICATION:
# - RESEND_API_KEY: Get from https://resend.com
# - EMAIL_FROM: Must match verified domain in Resend
# - NEXT_PUBLIC_APP_URL: Must be your actual production domain
#
# SECURITY CHECKLIST:
# ✅ All secrets generated with cryptographically secure random values
# ✅ Different secrets for development and production
# ✅ Database uses SSL/TLS (sslmode=require)
# ✅ Environment variables never committed to Git
# ✅ 2FA enabled in production
# ✅ Error tracking configured (Sentry)
